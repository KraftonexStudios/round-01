import { useGSAP } from "@gsap/react";
import gsap from "gsap";
import React, { useEffect, useRef } from "react";

const Preloader = () => {
  const svgPath = useRef();
  const laodertl = useRef();
  useGSAP(() => {
    if (svgPath.current) {
      const length = svgPath.current.getTotalLength();
      // Set the initial dash array and offset
      svgPath.current.style.strokeDasharray = length;
      svgPath.current.style.strokeDashoffset = length;
      laodertl.current = gsap
        .timeline()
        .to(svgPath.current, {
          strokeDashoffset: 200,
          strokeDasharray: 900,
          duration: 3,
          ease: "power4.Out",
        })
        .to(svgPath.current, {
          duration: 1,
          ease: "bounce.out",
          strokeWidth: 0,
          fill: "white",
        });
    }
  });
  return (
    <div className="flex h-[100vh] w-screen items-center justify-center">
      <svg
        width="280"
        height="280"
        viewBox="0 0 2500 2467"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        stroke="white"
        strokeWidth="20"
      >
        <path
          ref={svgPath}
          d="M1.6947 897.418C0.84743 898.83 0.000164289 959.551 0.282586 1032.13C0.282586 1153.86 0.84743 1164.59 5.08376 1167.98C8.75525 1170.52 20.0521 1171.37 45.4701 1170.8L80.7729 1169.96L81.6201 1127.87C81.9026 1102.46 83.5971 1084.1 85.574 1081.84C87.8334 1079.02 105.344 1078.17 166.064 1078.17C242.883 1078.17 243.448 1078.17 249.661 1084.66C258.134 1093.42 290.33 1129.85 305.298 1147.36C325.915 1171.93 324.221 1171.37 371.103 1171.37C404.711 1171.37 412.619 1170.52 412.619 1167.41C412.619 1165.15 398.498 1145.95 381.552 1124.49C364.325 1102.74 350.768 1083.53 351.051 1081.84C351.616 1079.86 359.523 1072.24 368.843 1064.61C378.163 1057.27 386.918 1048.51 388.613 1045.12C390.307 1042.02 392.849 1037.5 394.544 1035.52C396.238 1033.26 399.91 1024.23 402.452 1015.19C407.253 999.372 407.253 997.96 402.452 978.473C393.132 941.193 376.469 917.187 353.593 907.867C319.42 894.311 323.938 894.594 159.004 894.594C62.133 894.594 2.82438 895.723 1.6947 897.418ZM312.077 971.13C321.961 982.709 321.679 994.571 311.229 1005.02L302.757 1013.21L194.589 1012.65L86.4213 1011.8L85.574 986.946L84.7268 962.375H304.734L312.077 971.13ZM674.424 901.089C671.035 904.761 657.479 923.401 644.205 942.605C610.314 991.464 597.04 1010.67 575.294 1041.45C560.608 1062.35 517.397 1123.92 493.391 1158.66C491.415 1161.2 491.979 1164.02 494.521 1166.85C497.628 1170.8 504.406 1171.37 542.25 1170.8L586.308 1169.96L604.666 1142.28L623.023 1114.88L727.519 1115.45L832.015 1116.29L845.289 1134.65C852.632 1144.82 862.235 1157.25 866.753 1162.05L874.944 1171.37H916.46C949.785 1171.37 957.693 1170.52 957.693 1167.41C957.693 1165.15 949.785 1152.44 940.183 1139.17C917.872 1108.39 893.301 1073.65 867.601 1037.22C856.586 1021.68 846.137 1006.72 844.16 1004.17C842.183 1001.35 834.84 990.9 827.779 980.732C820.719 970.565 806.597 950.796 796.148 936.392C785.416 922.271 776.943 909.844 776.943 908.715C776.943 907.867 774.401 904.196 771.295 900.807C765.646 894.876 763.105 894.594 723.001 894.594C682.332 894.594 680.355 894.876 674.424 901.089ZM747.854 994.006C755.762 1005.3 767.623 1023.1 774.966 1033.55C782.027 1043.71 787.11 1053.03 786.263 1053.88C784.004 1056.14 673.859 1056.14 671.6 1053.88C670.753 1053.03 675.836 1043.71 682.897 1033.55C690.24 1023.1 702.101 1005.3 710.009 994.006C718.482 981.58 725.825 973.672 728.931 973.672C732.038 973.672 739.381 981.58 747.854 994.006ZM1033.1 896.571C1031.97 897.418 1031.12 958.421 1031.12 1031.85C1031.12 1150.47 1031.69 1165.72 1035.64 1169.96C1039.31 1173.63 1046.09 1174.19 1074.62 1173.63L1108.79 1172.78L1110.2 1076.76C1111.61 987.228 1112.46 973.672 1118.39 973.672C1120.65 973.672 1133.36 983.274 1153.98 1000.5C1160.19 1005.87 1170.92 1014.62 1177.98 1020.27C1185.04 1025.64 1200.58 1038.06 1212.72 1047.95C1224.86 1057.55 1242.94 1071.67 1252.54 1079.58C1286.71 1106.69 1312.13 1127.31 1313.55 1129C1314.39 1129.85 1327.1 1140.3 1342.07 1152.44L1369.18 1174.19H1412.68C1442.89 1174.19 1457.58 1173.06 1459.84 1170.8C1462.38 1168.26 1463.23 1134.65 1463.23 1037.22V906.738L1456.73 900.807C1450.8 895.158 1447.13 894.594 1417.48 894.594C1399.4 894.594 1382.74 895.441 1380.2 896.288C1376.24 897.7 1375.68 908.15 1375.68 983.839C1375.68 1057.83 1375.11 1069.98 1371.44 1071.39C1368.9 1072.52 1359.3 1066.87 1346.87 1056.7C1335.57 1047.38 1314.96 1030.72 1300.84 1019.14C1287 1007.84 1269.2 993.441 1261.3 987.228C1253.67 981.015 1242.09 971.695 1235.88 966.611C1223.45 955.879 1209.61 944.865 1177.98 920.294C1166.12 911.257 1155.11 901.654 1152.85 899.112C1149.46 895.158 1141.27 894.594 1091.84 894.594C1060.49 894.594 1033.95 895.441 1033.1 896.571ZM1619.97 900.524C1602.75 906.455 1589.75 918.6 1581.85 936.11C1576.2 948.819 1575.92 954.185 1575.92 1029.87V1110.36L1584.67 1127.87C1591.17 1141.15 1596.53 1147.64 1608.11 1155.55C1616.3 1161.2 1625.06 1165.72 1627.6 1165.72C1630.14 1165.72 1633.25 1166.85 1634.09 1168.54C1635.22 1170.24 1684.93 1171.37 1773.61 1171.37C1928.1 1171.37 1919.91 1172.5 1941.93 1150.19C1959.73 1132.39 1963.12 1119.4 1963.12 1066.87C1963.12 1027.33 1962.55 1021.97 1958.03 1017.73C1953.23 1013.49 1942.22 1013.21 1845.63 1013.78L1738.59 1014.62L1737.74 1038.91C1737.18 1058.4 1738.03 1064.33 1741.41 1068C1745.37 1071.95 1755.54 1072.52 1816.54 1072.52C1875 1072.52 1887.43 1073.08 1888.56 1076.47C1890.25 1081.27 1885.73 1091.16 1877.54 1099.91L1871.89 1106.41H1765.14C1669.68 1106.41 1658.38 1105.85 1654.99 1101.61C1651.89 1098.22 1651.04 1084.66 1651.04 1043.15C1651.04 990.9 1651.32 988.923 1657.54 980.732C1671.66 962.657 1672.22 962.657 1779.82 962.375C1887.43 962.375 1883.76 961.81 1888.27 980.167C1891.1 991.464 1897.31 993.441 1928.38 993.441C1959.16 993.441 1963.12 991.747 1963.12 978.191C1963.12 949.383 1936.85 908.715 1915.1 904.196C1911.15 903.349 1903.52 901.372 1898.16 899.96C1892.23 898.265 1836.03 896.853 1761.18 896.571C1649.91 896.006 1632.4 896.571 1619.97 900.524ZM2157.99 897.418L2085.97 898.83L2085.12 1031.57C2084.56 1153.86 2084.84 1164.59 2089.36 1167.7C2093.03 1170.52 2133.7 1171.37 2269.83 1171.37C2427.42 1171.37 2445.49 1170.8 2447.19 1166.85C2450.86 1157.25 2448.88 1119.12 2444.36 1112.62L2440.13 1106.41H2306.26C2176.63 1106.41 2172.11 1106.13 2169.28 1101.04C2165.33 1093.42 2165.61 1077.32 2170.13 1071.67C2173.24 1067.44 2184.53 1066.87 2289.31 1066.31L2405.11 1065.46L2405.95 1038.91C2406.52 1021.97 2405.67 1011.23 2403.41 1008.69C2400.87 1005.3 2380.25 1004.74 2285.08 1004.74C2157.42 1004.74 2166.46 1006.15 2166.46 986.098C2166.46 980.45 2167.87 973.672 2169.28 970.565C2172.11 965.482 2176.63 965.199 2308.8 965.199C2430.81 965.199 2445.78 964.634 2447.19 960.68C2448.03 958.139 2448.88 945.994 2448.88 933.285C2448.88 912.386 2448.03 909.28 2441.82 902.219L2434.48 894.594L2332.24 895.158C2276.04 895.441 2197.53 896.571 2157.99 897.418ZM0.282586 1301.85V1436.84C0.000164289 1556.31 0.565008 1565.63 5.08376 1569.02C8.75525 1571.56 20.0521 1572.41 45.4701 1571.84L80.7729 1570.99L82.185 1525.81C83.0322 1500.95 84.7268 1478.92 85.8565 1476.95C87.551 1474.41 106.756 1473.56 165.499 1473.56H242.883L269.148 1503.78C283.552 1520.44 303.604 1542.75 313.771 1553.2L332.411 1572.41H373.645C396.521 1572.41 415.725 1571.28 416.573 1569.86C417.42 1568.45 413.748 1561.96 408.382 1555.18C403.016 1548.4 388.895 1530.33 377.316 1515.36C365.737 1500.39 355.005 1487.4 353.31 1486.27C348.227 1483.16 350.203 1473.84 356.699 1470.45C360.371 1468.48 364.889 1465.37 366.866 1463.39C368.843 1461.13 372.797 1458.03 375.339 1456.05C385.224 1448.99 395.673 1431.76 401.322 1413.97C406.97 1396.46 407.253 1395.33 402.452 1374.71C395.109 1342.8 383.529 1323.59 363.76 1310.32C342.013 1295.63 340.601 1295.63 164.37 1295.63H0.282586V1301.85ZM313.489 1367.93C321.961 1378.66 321.114 1390.53 311.229 1400.41L302.757 1408.6L194.589 1408.04L86.4213 1407.19L85.574 1383.75L84.7268 1360.59H307.84L313.489 1367.93ZM563.432 1300.72C549.876 1306.36 536.32 1317.1 530.954 1326.98C521.069 1345.06 519.939 1353.25 519.939 1427.52C519.939 1509.14 522.199 1525.52 536.037 1543.88C545.357 1556.31 549.311 1559.42 563.997 1566.76C575.294 1572.41 579.53 1572.41 729.214 1571.56C893.866 1570.71 890.759 1570.99 911.659 1556.03C916.46 1552.64 923.52 1545.01 927.192 1539.08C933.687 1528.63 933.687 1527.78 933.687 1439.67C933.687 1356.07 933.405 1350.14 928.039 1340.82C920.414 1327.26 907.14 1312.86 897.255 1307.78C874.944 1296.2 868.73 1295.63 719.047 1295.92C590.262 1295.92 573.882 1296.48 563.432 1300.72ZM849.808 1369.06C855.739 1374.71 856.021 1376.97 856.021 1429.5C856.021 1479.21 855.457 1484.86 850.655 1490.79L845.289 1497.56L730.626 1498.41C653.242 1498.98 613.986 1498.13 610.314 1496.15C604.948 1493.33 604.666 1490.22 604.666 1434.02C604.666 1378.38 604.948 1374.43 610.314 1369.06C615.68 1363.7 619.634 1363.41 729.779 1363.41C840.488 1363.41 843.877 1363.7 849.808 1369.06ZM1014.18 1299.59C1014.18 1303.26 1023.78 1318.23 1048.07 1351.83C1084.78 1402.67 1104.27 1430.35 1115.85 1447.01C1122.91 1457.18 1129.97 1467.06 1131.38 1468.76C1133.08 1470.73 1138.16 1477.8 1142.96 1484.86C1162.73 1513.95 1187.87 1549.25 1196.9 1560.26L1206.51 1572.41H1292.65L1315.8 1540.49C1340.38 1506.32 1351.67 1490.79 1388.67 1438.26C1425.1 1387.14 1448.83 1353.81 1466.9 1328.96C1490.91 1295.92 1490.62 1295.63 1435.27 1295.63C1386.41 1295.63 1386.41 1295.63 1374.83 1313.99C1370.88 1320.2 1360.14 1335.74 1351.11 1348.45C1342.07 1361.15 1319.76 1393.07 1301.68 1419.05C1258.76 1480.34 1247.74 1494.74 1243.5 1494.74C1240.12 1494.74 1230.23 1481.47 1183.35 1412.84C1170.36 1394.2 1154.54 1371.32 1147.76 1362C1141.27 1352.68 1129.69 1336.3 1122.35 1325.85C1099.75 1293.66 1103.99 1295.63 1055.98 1295.63C1022.65 1295.63 1014.18 1296.48 1014.18 1299.59ZM1586.36 1301.85C1583.54 1312.58 1584.39 1548.97 1587.49 1556.59C1593.43 1572.69 1591.45 1572.41 1777.28 1571.84L1947.58 1570.99L1948.43 1539.93C1948.99 1513.1 1948.43 1508.58 1944.19 1505.47C1940.52 1502.65 1909.74 1501.8 1809.2 1501.8C1707.81 1501.8 1677.87 1500.95 1673.92 1498.13C1670.24 1495.31 1669.11 1491.35 1669.96 1479.21L1670.81 1463.67L1790.84 1462.26L1910.87 1460.85L1911.72 1436.84C1912.84 1398.43 1924.42 1401.54 1789.14 1400.69C1702.44 1400.13 1673.35 1399 1671.66 1396.46C1670.53 1394.48 1669.4 1387.14 1669.4 1379.79C1669.4 1369.34 1670.53 1365.67 1674.76 1363.41C1678.43 1361.72 1727.58 1360.59 1814.56 1360.59H1948.99V1331.5C1948.99 1312.58 1947.87 1301.28 1945.61 1299.02C1943.06 1296.48 1899.01 1295.63 1765.14 1295.63H1588.06L1586.36 1301.85ZM2086.53 1297.61C2085.4 1298.46 2084.56 1358.61 2084.56 1431.2C2084.56 1556.31 2084.84 1563.37 2089.92 1567.89C2094.16 1571.84 2100.37 1572.41 2128.62 1571.84L2162.22 1570.99L2163.07 1527.5C2163.35 1501.24 2165.05 1482.31 2166.74 1480.05C2169.28 1477.23 2186.79 1476.38 2248.36 1476.38H2326.59L2358.79 1513.66C2376.58 1534.28 2396.07 1555.74 2402 1561.67L2413.01 1572.41H2454.81C2479.95 1572.41 2497.18 1571.28 2498.31 1569.58C2500 1567.04 2486.73 1547.27 2478.54 1539.93C2476.84 1538.23 2467.8 1526.94 2458.2 1514.51C2448.88 1502.08 2439 1490.22 2436.46 1487.96C2429.39 1482.03 2431.09 1474.12 2440.69 1469.04C2451.99 1463.39 2466.11 1449.27 2476.28 1433.74C2483.62 1421.88 2484.18 1419.62 2483.9 1391.66C2483.62 1355.79 2478.25 1341.39 2456.22 1319.36C2431.94 1295.07 2436.17 1295.63 2249.21 1295.63C2160.81 1295.63 2087.38 1296.48 2086.53 1297.61ZM2395.22 1368.22C2400.02 1374.43 2401.15 1378.38 2399.46 1387.42C2396.35 1408.88 2399.18 1408.6 2278.02 1408.6C2198.09 1408.6 2169.57 1407.75 2167.02 1405.21C2163.35 1401.54 2162.22 1365.67 2165.61 1362.57C2166.46 1361.44 2217.3 1360.59 2278.3 1360.59H2389.29L2395.22 1368.22Z"
          fill="black"
        />
      </svg>
    </div>
  );
};

export default Preloader;
